<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testwebsite for hybride applications</title>
    <script src="./src/js/hybrid-app.js"></script>
    <style>
        *{
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, Helvetica, sans-serif;
        }

        html, body{
            min-height: 100%;
        }

        body{
            background: linear-gradient( to bottom, transparent, rgb(255,255,255)) rgb(214, 219, 220);
            padding: 1rem;
        }

        h2{
            margin: 2rem 0 1.5rem 0;
        }

        .button{
            background-color: rgba(180, 185, 188, 0.5);
            border: 1px solid rgb(131, 134, 135, 0.5);
            border-radius: 1rem;
            padding: 1rem 3rem 1rem 1rem;
            display: block;
            position: relative;
            text-decoration: none;
            box-shadow: 0.5rem 0.5rem 1rem rgba(59, 130, 246, 0.5);
            margin: 0 0 1rem 0;
        }

        .button-title{
            color: rgb(10,10,10);
            padding: 0 0 0.5rem 0;
            font-size: 1.1;
            display: block;
        }

        .button-description{
            color: rgb(80,80,80);
        }

        .button::after{
            content: "";
            background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiPjx0aXRsZT45LjEzPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSJ3aGl0ZSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0yNC4wMDAwMDAsIC0yNC4wMDAwMDApICI+PHBhdGggZD0iTTE3LjY4NjI5MTUsMjMuODU4NzIzNCBMMzAuNDEwNzE1OCwxMS4xMzQyOTkyIEMzMS4xOTQxMzM4LDEwLjM1MDg4MTEgMzEuMTk1MjYyMSw5LjA4MzQyMjg0IDMwLjQxNDIxMzYsOC4zMDIzNzQyNiBDMjkuNjI3NzE5Nyw3LjUxNTg4MDM1IDI4LjM2NTI2OSw3LjUyMjg5MTY4IDI3LjU4MjI4ODcsOC4zMDU4NzIwMyBMMTMuNDQ3MTQ4NiwyMi40NDEwMTIxIEMxMy40NDY1NjU1LDIyLjQ0MTU5NTIgMTMuNDQ1OTgyOCwyMi40NDIxNzg2IDEzLjQ0NTQwMDUsMjIuNDQyNzYyMyBDMTMuNDQ0ODE3MywyMi40NDMzNDQxIDEzLjQ0NDIzMzksMjIuNDQzOTI2OCAxMy40NDM2NTA4LDIyLjQ0NDUwOTkgQzEzLjA1MDk4OSwyMi44MzcxNzE3IDEyLjg1NjExMzYsMjMuMzQ4NDY4OCAxMi44NTY4NDIzLDIzLjg1OTUwNTIgQzEyLjg1ODcyNzMsMjQuMzcxODEwMSAxMy4wNTM3MDc3LDI0Ljg4Mjk5MzkgMTMuNDQzNjUwOCwyNS4yNzI5MzcgQzEzLjQ0NDIzMzksMjUuMjczNTIwMSAxMy40NDQ4MTczLDI1LjI3NDEwMjggMTMuNDQ1NDAxLDI1LjI3NDY4NTEgQzEzLjQ0NTk4MjgsMjUuMjc1MjY4MyAxMy40NDY1NjU1LDI1LjI3NTg1MTcgMTMuNDQ3MTQ4NiwyNS4yNzY0MzQ4IEwyNy41ODIyODg3LDM5LjQxMTU3NDkgQzI4LjM2NTcwNjcsNDAuMTk0OTkyOSAyOS42MzMxNjUsNDAuMTk2MTIxMiAzMC40MTQyMTM2LDM5LjQxNTA3MjYgQzMxLjIwMDcwNzUsMzguNjI4NTc4NyAzMS4xOTM2OTYxLDM3LjM2NjEyODEgMzAuNDEwNzE1OCwzNi41ODMxNDc3IEwxNy42ODYyOTE1LDIzLjg1ODcyMzQgWiIvPjwvZz48L2c+PC9nPjwvc3ZnPg==");
            position: absolute;
            height: 3rem;
            width: 3rem;
            top: 0; bottom: 0; right: 0.25rem;
            margin: auto 0;
        }
    </style>
</head>
<body>
    <article>
        <div>
            <h2>Native messages</h2>
            <a class="button" href="javaScript:Native.showError('Error', 'This is a native error message.');">
                <b class="button-title">Show error message</b>
                <p><span class="button-description">A native error message will be shown.</span></p>
            </a>
            <a class="button" href="javaScript:Native.showAlert('Warning', 'This is a native warning message.');">
                <b class="button-title">Show warning message</b>
                <p><span class="button-description">A native warning message will be shown.</span></p>
            </a>
            <a class="button" href="javaScript:Native.showToast('This is a native Toast.');">
                <b class="button-title">Show toast</b>
                <p><span class="button-description">A native toast message will be shown.</span></p>
            </a>
            <a class="button" href="javaScript:Native.pushNotification('Hybrid App', 'This is a notification send by your WebView.');">
                <b class="button-title">Send notification</b>
                <p><span class="button-description">A notification will be sent by the WebView.</span></p>
            </a>
        </div>
        <div>
            <h2>Sensor functions</h2>
            <a class="button" href="javaScript:getLocation();">
                <b class="button-title">Show current Location</b>
                <p><span class="button-description">Gets the current location and opens the GPS coordinates in Google Maps.</span></p>
            </a>
            <a class="button" href="javaScript:Native.takePhoto(); void(0);">
              <b class="button-title">Take Photo</b>
              <p><span class="button-description">Takes a Photo and saves it to the internal image storage.</span></p>
            </a>
            <a class="button" href="javaScript:Native.showToast(Native.getConnectivityStatus());">
              <b class="button-title">Show Connectivity Status</b>
              <p><span class="button-description">Gets the current connectivity status of the device and shows it in a Toast.</span></p>
            </a>
            <a class="button" href="javaScript:Native.flashlight(true);">
              <b class="button-title">Flashlight (on)</b>
              <p><span class="button-description">Turns on the flashlight of the device (if available).</span></p>
            </a>
            <a class="button" href="javaScript:Native.flashlight(false);">
              <b class="button-title">Flashlight (off)</b>
              <p><span class="button-description">Turns off the flashlight of the device (if available).</span></p>
            </a>
            <a class="button" href="javaScript:Native.vibrateShort();">
              <b class="button-title">Vibrate (short)</b>
              <p><span class="button-description">The device will vibrate for 100 ms.</span></p>
            </a>
            <a class="button" href="javaScript:Native.vibrateMedium();">
              <b class="button-title">Vibrate (medium)</b>
              <p><span class="button-description">The device will vibrate for 200 ms.</span></p>
            </a>
            <a class="button" href="javaScript:Native.vibrateLong();">
              <b class="button-title">Vibrate (long)</b>
              <p><span class="button-description">The device will vibrate for 500 ms.</span></p>
            </a>
        </div>
        <div>
            <h2>Other functions</h2>
            <a class="button" href="javaScript:Native.loadUrl('https://www.marzeck.de');">
                <b class="button-title">Load URL</b>
                <p><span class="button-description">Opens a website via the native function loadURL into the WebView.</span></p>
            </a>
            <a class="button" href="javaScript:Native.loadData('<h1>This was loaded via loadData()</h1>');">
              <b class="button-title">Load Data</b>
              <p><span class="button-description">Takes a Photo and saves it to the internal image storage.</span></p>
            </a>
            <a class="button" href="javaScript:Native.displayRotationMode(0);">
              <b class="button-title">Lock turning Screen</b>
              <p><span class="button-description">This is locking the orientation of the application.</span></p>
            </a>
            <a class="button" href="javaScript:Native.displayRotationMode(2);">
              <b class="button-title">Unlock turning Screen</b>
              <p><span class="button-description">This is Unlocking the orientation of the application.</span></p>
            </a>
            <a class="button" href="javaScript:Native.writeFile('darkMode', '1'); Native.loadUrl('file:///android_asset/index.html');">
              <b class="button-title">Activate Dark Mode</b>
              <p><span class="button-description">Activate the dark mode for this app (if system dark mode is disabled).</span></p>
            </a>
            <a class="button" href="javaScript:Native.writeFile('darkMode', '0'); Native.loadUrl('file:///android_asset/index.html');">
              <b class="button-title">Deactivate Dark Mode</b>
              <p><span class="button-description">Deactivate the dark mode for this app (if system dark mode is disabled).</span></p>
            </a>
        </div>
        <div>
            <h2>Permissions</h2>
            <a class="button" href="javaScript:getPermission('android.permission.CAMERA');">
                <b class="button-title">CAMERA permission</b>
                <p><span class="button-description">Trys to get the Android permission for the camera.</span></p>
            </a>
            <a class="button" href="javaScript:getPermission('android.permission.INTERNET');">
              <b class="button-title">INTERNET permission</b>
              <p><span class="button-description">Trys to get the Android permission for internet connection.</span></p>
            </a>
            <a class="button" href="javaScript:getPermission('android.permission.ACCESS_NETWORK_STATE');">
              <b class="button-title">ACCESS_NETWORK_STATE permission</b>
              <p><span class="button-description">Trys to get the Android permission for internet connection status.</span></p>
            </a>
            <a class="button" href="javaScript:getPermission('android.permission.GPS');">
              <b class="button-title">GPS permission</b>
              <p><span class="button-description">Trys to get the Android permission for gps connection.</span></p>
            </a>
            <a class="button" href="javaScript:getPermission('android.permission.VIBRATE');">
              <b class="button-title">Vibration permission</b>
              <p><span class="button-description">Trys to get the Android permission for the vibration motor.</span></p>
            </a>
        </div>
    </article>


    <script>
        var checkboxDarkmode = document.getElementById('checkboxDarkmode'),
            checkboxTurn = document.getElementById('checkboxTurn');
        
        function launchMethod(){
          // Sets the color of the status bar
          Native.setStatusBarColor("#d6dbdc");
          if ((Native.nightModeEnabled() == "UI_MODE_NIGHT_YES") || (Native.readFile('darkMode') == 1)) activateDarkMode();
        }

        function activateDarkMode(){
          Native.setStatusBarColor("#000000");

          var styleSheet = document.createElement("style");
          styleSheet.innerText = "body{background: linear-gradient( to bottom, transparent, #000000) #0e1314;} h2{color: #FAFAFA;} .button-title{color: #FAFAFA;} .button-description{color: #E1E1E1;}";
          document.head.appendChild(styleSheet);
        }

        function getPermission(permission){
          if (!Native.permissionGranted(permission)) Native.requestPermission(permission)
          else Native.showToast("Berechtigung wurde bereits erteilt.");
        }

        function getLocation(){
          var gps = Native.getCurrentLocation();
          if(gps != null) window.location.href = "https://www.google.de/maps/place/" + gps + "/@" + gps + ",10z";
        }

        launchMethod();
    </script>
</body>
</html>